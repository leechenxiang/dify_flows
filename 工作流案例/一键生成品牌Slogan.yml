app:
  description: ''
  icon: ğŸ¤–
  icon_background: '#FFEAD5'
  mode: advanced-chat
  name: æç¤ºè¯demo
  use_icon_as_answer_icon: false
dependencies:
- current_identifier: null
  type: marketplace
  value:
    marketplace_plugin_unique_identifier: langgenius/openai_api_compatible:0.0.11@410445eba2fa0f693d26dea2c3b9ffe51ad0777e021146ff877af6098412efc7
kind: app
version: 0.1.5
workflow:
  conversation_variables: []
  environment_variables: []
  features:
    file_upload:
      allowed_file_extensions:
      - .JPG
      - .JPEG
      - .PNG
      - .GIF
      - .WEBP
      - .SVG
      allowed_file_types:
      - image
      allowed_file_upload_methods:
      - local_file
      - remote_url
      enabled: false
      fileUploadConfig:
        audio_file_size_limit: 50
        batch_count_limit: 5
        file_size_limit: 15
        image_file_size_limit: 10
        video_file_size_limit: 100
        workflow_file_upload_limit: 10
      image:
        enabled: false
        number_limits: 3
        transfer_methods:
        - local_file
        - remote_url
      number_limits: 3
    opening_statement: ''
    retriever_resource:
      enabled: true
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions: []
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
    - data:
        sourceType: start
        targetType: llm
      id: 1743603718871-llm
      selected: false
      source: '1743603718871'
      sourceHandle: source
      target: llm
      targetHandle: target
      type: custom
    - data:
        isInLoop: false
        sourceType: llm
        targetType: code
      id: llm-source-1743642681536-target
      source: llm
      sourceHandle: source
      target: '1743642681536'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: template-transform
        targetType: answer
      id: 1743662084961-source-answer-target
      source: '1743662084961'
      sourceHandle: source
      target: answer
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: code
        targetType: template-transform
      id: 1743642681536-source-1743662084961-target
      source: '1743642681536'
      sourceHandle: source
      target: '1743662084961'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: code
        targetType: answer
      id: 1743642681536-source-1743664972074-target
      source: '1743642681536'
      sourceHandle: source
      target: '1743664972074'
      targetHandle: target
      type: custom
      zIndex: 0
    nodes:
    - data:
        desc: ''
        selected: false
        title: å¼€å§‹
        type: start
        variables: []
      height: 53
      id: '1743603718871'
      position:
        x: 80
        y: 282
      positionAbsolute:
        x: 80
        y: 282
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        memory:
          query_prompt_template: '{{#sys.query#}}'
          role_prefix:
            assistant: ''
            user: ''
          window:
            enabled: false
            size: 50
        model:
          completion_params: {}
          mode: chat
          name: claude-3-5-sonnet-20241022
          provider: langgenius/openai_api_compatible/openai_api_compatible
        prompt_template:
        - id: 2ab80bb2-035b-4ef3-a2f0-e9f208e92d87
          role: system
          text: ";; â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n;; ä½œè€…: lee\n;; ç‰ˆæœ¬: 0.1\n;; æ¨¡å‹: Claude Sonnet\n\
            ;; ç”¨é€”: ä¸ºå“ç‰Œç”Ÿæˆå¥½ç©æœ‰å†…æ¶µçš„Slogan\n;; â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n\n;; è®¾å®šå¦‚ä¸‹å†…å®¹ä¸ºä½ çš„ *System Prompt*\n\
            (defun å“ç‰Œä¸“å®¶ ()\n  \"ä½ æ˜¯ä¸€ä¸ªé£è¶£çš„å¹´è½»äºº,è”ç³»ç°å®,æ´å¯Ÿæ·±åˆ»,è¯­è¨€é£è¶£\"\n  (é£æ ¼ . (\"Lee Clow\"\
            \ \"Dan Wieden\" \"ä½™å\"))\n  (æ“…é•¿ . å¼•äººæ·±æ€)\n  (è¡¨è¾¾ . é£è¶£å¹½é»˜)\n  (å†…å®¹ . æ„ŸåŒèº«å—))\n\
            \n(defun Slogan (ç”¨æˆ·è¾“å…¥)\n  \"ä¸ºç”¨æˆ·è¾“å…¥çš„å“ç‰Œç”Ÿæˆä¸€å¥ç¬¦åˆå…¶å“ç‰Œç²¾ç¥çš„å¥½ç©çš„Slogan\"\n  (let (å“åº”\
            \ (å¯¹æ¯”é²œæ˜ (æ”¾å¤§å“ç‰Œç²¾ç¥ (åå¸¸è¯† (å‡ç¼©æ”¶æ•› (å“ç‰Œç²¾ç¥ ç”¨æˆ·è¾“å…¥))))))\n    (few-shots ((\"Nike\"\
            \ . \"èƒœè€…çˆ±æ‰¾è™\")\n                (\"ä¼˜è¡£åº“\" . \"å¹³å‡¡é‡Œçš„ä¸å¹³å‡¡\")))\n  (SVG-Card\
            \ ç”¨æˆ·è¾“å…¥ å“åº”)))\n\n(defun SVG-Card (ç”¨æˆ·è¾“å…¥ å“åº”)\n   \"åˆ›å»ºå¯Œæ´å¯ŸåŠ›ä¸”å…·æœ‰å®¡ç¾çš„ SVG æ¦‚å¿µå¯è§†åŒ–\"\
            \n    (let ((é…ç½® '(:ç”»å¸ƒ (320 . 240)\n                  :è‰²å½© (å“ç‰Œä¸»è‰²è°ƒ ç”¨æˆ·è¾“å…¥)\n\
            \                  :å­—ä½“ (ä½¿ç”¨æœ¬æœºå­—ä½“ (font-family \"KingHwa_OldSong\")))))\n\
            \        (-> ç”¨æˆ·è¾“å…¥\n            logo\n            (æç®€çº¿æ¡å›¾ é…ç½®)\n        \
            \    (å¸ƒå±€ `(,(æ ‡é¢˜ \"Slogan\") åˆ†éš”çº¿ ç”¨æˆ·è¾“å…¥ å›¾å½¢ å“åº”))))\n\n(defun start ()\n  \"\
            å“ç‰Œä¸“å®¶,å¯åŠ¨!\"\n  (let (system-role (å“ç‰Œä¸“å®¶))\n    (print \"æ¢ä¸ªè§’åº¦æ¥å‡ å¥å“ç‰Œçš„slogan,\
            \ æä¾›ä»»æ„çš„å“ç‰Œåç§°å³å¯ã€‚\")))\n\n;; â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n;;; Attention: è¿è¡Œè§„åˆ™!\n;; 1.\
            \ åˆæ¬¡å¯åŠ¨æ—¶å¿…é¡»åªè¿è¡Œ (start) å‡½æ•°\n;; 2. æ¥æ”¶ç”¨æˆ·è¾“å…¥ä¹‹å, è°ƒç”¨ä¸»å‡½æ•° (Slogan ç”¨æˆ·è¾“å…¥)\n;; 3. ä¸¥æ ¼æŒ‰ç…§(SVG-Card)\
            \ è¿›è¡Œæ’ç‰ˆè¾“å‡º\n;; 4. è¾“å‡ºå®Œ SVG å, ä¸å†è¾“å‡ºä»»ä½•é¢å¤–æ–‡æœ¬è§£é‡Š\n;; â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n"
        selected: false
        title: LLM
        type: llm
        variables: []
        vision:
          enabled: false
      height: 89
      id: llm
      position:
        x: 417.3424566319377
        y: 282
      positionAbsolute:
        x: 417.3424566319377
        y: 282
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '{{#1743662084961.output#}}'
        desc: ''
        selected: false
        title: ç›´æ¥å›å¤
        type: answer
        variables: []
      height: 104
      id: answer
      position:
        x: 745.0938835991889
        y: 556.1794128689075
      positionAbsolute:
        x: 745.0938835991889
        y: 556.1794128689075
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "function main({svg_str}){\n\n    // æ›¿æ¢ \\n\n    let svgStr1 = svg_str.replace(/[\\\
          r\\n]+/g, '');\n    // æ›¿æ¢ \\\"\n    let svgStr2 = svgStr1.replace(/\\\\\"\
          /g, '\"');\n\n    const base64 = svgToBase64(svgStr2);\n\n    return {\n\
          \        result: base64,\n        svg: svgStr2\n    }\n}\n\n// svgæ ¼å¼è½¬ä¸ºbase64\n\
          function svgToBase64(svgCode) {\n\n    const utf8Bytes = new TextEncoder().encode(svgCode);\n\
          \n    return 'data:image/svg+xml;base64,' + btoa(String.fromCharCode.apply(null,\
          \ utf8Bytes));\n}"
        code_language: javascript
        desc: ''
        outputs:
          result:
            children: null
            type: string
          svg:
            children: null
            type: string
        selected: false
        title: ä»£ç æ‰§è¡Œ
        type: code
        variables:
        - value_selector:
          - llm
          - text
          variable: svg_str
      height: 53
      id: '1743642681536'
      position:
        x: 417.3424566319377
        y: 453.6750480095958
      positionAbsolute:
        x: 417.3424566319377
        y: 453.6750480095958
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        selected: false
        template: <img src="{{ img }}" alt="Base64å›¾ç‰‡"/>
        title: æ¨¡æ¿è½¬æ¢
        type: template-transform
        variables:
        - value_selector:
          - '1743642681536'
          - result
          variable: img
      height: 53
      id: '1743662084961'
      position:
        x: 745.0938835991889
        y: 453.6750480095958
      positionAbsolute:
        x: 745.0938835991889
        y: 453.6750480095958
      selected: true
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '{{#1743642681536.svg#}}'
        desc: ''
        selected: false
        title: ç›´æ¥å›å¤ æ˜¾ç¤ºSVG
        type: answer
        variables: []
      height: 104
      id: '1743664972074'
      position:
        x: 745.0938835991889
        y: 282
      positionAbsolute:
        x: 745.0938835991889
        y: 282
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    viewport:
      x: -126.48114995198148
      y: -262.8148679866468
      zoom: 1.3228379638947547
